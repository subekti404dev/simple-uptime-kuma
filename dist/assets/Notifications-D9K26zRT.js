import{_ as N,r as p,o as l,c as r,e as y,k as v,f as o,a as d,N as $,t as n,F as g,g as S,b as T,l as h,p as D,m as E}from"./index-DsyJi9Lo.js";const I={props:{modelValue:{type:String,default:""},enabled:{type:Boolean,default:!0},placeholder:{type:String,default:""},icon:{type:String,required:!0},type:{type:String,default:"text"},action:{type:Function,default:()=>{}},actionAriaLabel:{type:String,required:!0}},emits:["update:modelValue"],computed:{model:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}}},k={class:"input-group mb-3"},V=["type","placeholder","disabled"],x=["aria-label"];function C(t,e,s,m,a,c){const f=p("font-awesome-icon");return l(),r("div",k,[y(o("input",{ref:"input","onUpdate:modelValue":e[0]||(e[0]=u=>c.model=u),class:"form-control",type:s.type,placeholder:s.placeholder,disabled:!s.enabled},null,8,V),[[v,c.model]]),o("button",{type:"button",class:"btn btn-outline-primary","aria-label":s.actionAriaLabel,onClick:e[1]||(e[1]=u=>s.action())},[d(f,{icon:s.icon},null,8,["icon"])],8,x)])}const L=N(I,[["render",C]]),w={components:{NotificationDialog:$,ActionInput:L},data(){return{toastSuccessTimeoutSecs:20,toastErrorTimeoutSecs:-1,expiryNotifInput:null}},computed:{settings(){return this.$parent.$parent.$parent.settings},saveSettings(){return this.$parent.$parent.$parent.saveSettings},settingsLoaded(){return this.$parent.$parent.$parent.settingsLoaded}},watch:{toastSuccessTimeoutSecs(t){const e=parseInt(t);e!=null&&!Number.isNaN(e)&&(localStorage.toastSuccessTimeout=t>0?t*1e3:t)},toastErrorTimeoutSecs(t){const e=parseInt(t);e!=null&&!Number.isNaN(e)&&(localStorage.toastErrorTimeout=t>0?t*1e3:t)}},mounted(){this.loadToastTimeoutSettings()},methods:{removeExpiryNotifDay(t){this.settings.tlsExpiryNotifyDays=this.settings.tlsExpiryNotifyDays.filter(e=>e!==t)},addExpiryNotifDay(t){if(t!=null&&t!==""){const e=parseInt(t);e!=null&&!isNaN(e)&&e>0&&(this.settings.tlsExpiryNotifyDays.includes(e)||(this.settings.tlsExpiryNotifyDays.push(parseInt(t)),this.settings.tlsExpiryNotifyDays.sort((s,m)=>s-m),this.expiryNotifInput=null))}},loadToastTimeoutSettings(){const t=localStorage.toastSuccessTimeout;if(t!==void 0){const s=parseInt(t);s!=null&&!Number.isNaN(s)&&(this.toastSuccessTimeoutSecs=s>0?s/1e3:s)}const e=localStorage.toastErrorTimeout;if(e!==void 0){const s=parseInt(e);s!=null&&!Number.isNaN(s)&&(this.toastErrorTimeoutSecs=s>0?s/1e3:s)}}}},A=t=>(D("data-v-cb4a0586"),t=t(),E(),t),B={class:"notification-list my-4"},M={key:0},U={key:1},F={class:"list-group mb-3",style:{"border-radius":"1rem"}},q=A(()=>o("br",null,null,-1)),j=["onClick"],R={class:"my-4 pt-4"},z={class:"my-4 settings-subheading"},G={class:"my-4"},H={for:"toastErrorTimeoutSecs",class:"form-label"},J={class:"my-4"},K={for:"toastSuccessTimeoutSecs",class:"form-label"},O={class:"my-4 pt-4"},P={class:"my-4 settings-subheading"},Q={class:"mt-1 mb-3 ps-2 cert-exp-days col-12 col-xl-6"},W=["aria-label","onClick"],X={class:"col-12 col-xl-6"};function Y(t,e,s,m,a,c){const f=p("font-awesome-icon"),u=p("ActionInput"),_=p("NotificationDialog");return l(),r("div",null,[o("div",B,[t.$root.notificationList.length===0?(l(),r("p",M,n(t.$t("Not available, please setup.")),1)):(l(),r("p",U,n(t.$t("notificationDescription")),1)),o("ul",F,[(l(!0),r(g,null,S(t.$root.notificationList,(i,b)=>(l(),r("li",{key:b,class:"list-group-item"},[T(n(i.name),1),q,o("a",{href:"#",onClick:Z=>t.$refs.notificationDialog.show(i.id)},n(t.$t("Edit")),9,j)]))),128))]),o("button",{class:"btn btn-primary me-2",type:"button",onClick:e[0]||(e[0]=i=>t.$refs.notificationDialog.show())},n(t.$t("Setup Notification")),1)]),o("div",R,[o("h5",z,n(t.$t("monitorToastMessagesLabel")),1),o("p",null,n(t.$t("monitorToastMessagesDescription")),1),o("div",G,[o("label",H,n(t.$t("toastErrorTimeout")),1),y(o("input",{id:"toastErrorTimeoutSecs","onUpdate:modelValue":e[1]||(e[1]=i=>a.toastErrorTimeoutSecs=i),type:"number",class:"form-control",min:"-1",step:"1"},null,512),[[h,a.toastErrorTimeoutSecs]])]),o("div",J,[o("label",K,n(t.$t("toastSuccessTimeout")),1),y(o("input",{id:"toastSuccessTimeoutSecs","onUpdate:modelValue":e[2]||(e[2]=i=>a.toastSuccessTimeoutSecs=i),type:"number",class:"form-control",min:"-1",step:"1"},null,512),[[h,a.toastSuccessTimeoutSecs]])])]),o("div",O,[o("h5",P,n(t.$t("settingsCertificateExpiry")),1),o("p",null,n(t.$t("certificationExpiryDescription")),1),o("p",null,n(t.$t("notificationDescription")),1),o("div",Q,[(l(!0),r(g,null,S(c.settings.tlsExpiryNotifyDays,i=>(l(),r("div",{key:i,class:"d-flex align-items-center justify-content-between cert-exp-day-row py-2"},[o("span",null,n(i)+" "+n(t.$tc("day",i)),1),o("button",{type:"button",class:"btn-rm-expiry btn btn-outline-danger ms-2 py-1","aria-label":t.$t("Remove the expiry notification"),onClick:b=>c.removeExpiryNotifDay(i)},[d(f,{icon:"times"})],8,W)]))),128))]),o("div",X,[d(u,{modelValue:a.expiryNotifInput,"onUpdate:modelValue":e[3]||(e[3]=i=>a.expiryNotifInput=i),type:"number",placeholder:t.$t("day"),icon:"plus",action:()=>c.addExpiryNotifDay(a.expiryNotifInput),"action-aria-label":t.$t("Add a new expiry notification day")},null,8,["modelValue","placeholder","action","action-aria-label"])]),o("div",null,[o("button",{class:"btn btn-primary",type:"button",onClick:e[4]||(e[4]=i=>c.saveSettings())},n(t.$t("Save")),1)])]),d(_,{ref:"notificationDialog"},null,512)])}const et=N(w,[["render",Y],["__scopeId","data-v-cb4a0586"]]);export{et as default};
